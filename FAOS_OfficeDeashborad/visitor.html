<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>Visitor Entry / Exit Log</title>

<style>
body {
    margin: 0;
    font-family: "Segoe UI", Tahoma, sans-serif;
    background: #f2f4f7;
}

/* ===== Layout ===== */
.wrapper {
    display: flex;
    min-height: 100vh;
}

/* ===== Sidebar ===== */
.sidebar {
    width: 240px;
    background: #0d6efd;
    color: #fff;
    padding: 20px;
}

.sidebar h2 {
    text-align: center;
    margin-bottom: 30px;
    font-size: 20px;
}

.sidebar a {
    display: block;
    color: #fff;
    text-decoration: none;
    padding: 12px;
    border-radius: 6px;
    margin-bottom: 10px;
    font-size: 16px;
}

.sidebar a:hover,
.sidebar a.active {
    background: rgba(255,255,255,0.2);
}
/* ===== Main ===== */
.main {
    flex: 1;
    padding: 25px;
}

.header {
    font-size: 22px;
    margin-bottom: 20px;
}
.container {
    max-width: 1200px;
    margin: auto;
    background: #ffffff;
    padding: 25px;
    border-radius: 10px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
}

h2 {
    text-align: center;
    margin-bottom: 20px;
}

table {
    width: 100%;
    border-collapse: collapse;
    margin-bottom: 15px;
}

th, td {
    border: 1px solid #ddd;
    padding: 10px;
    text-align: center;
}

th {
    background: #0d6efd;
    color: #fff;
}

tbody tr:nth-child(even) {
    background: #f9fafb;
}

input, textarea {
    width: 100%;
    padding: 6px;
    border-radius: 4px;
    border: 1px solid #ccc;
}

textarea {
    resize: vertical;
}

.buttons {
    display: flex;
    justify-content: space-between;
    margin-top: 15px;
}

button {
    padding: 10px 18px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-size: 14px;
}

.save-btn {
    background: #198754;
    color: #fff;
}

.print-btn {
    background: #6c757d;
    color: #fff;
}

.clear-btn {
    background: #dc3545;
    color: #fff;
}

@media print {
    .input-table,
    .buttons {
        display: none;
    }
}
</style>
</head>

<body>
    <div class="wrapper">
    <!-- Sidebar -->
    <div class="sidebar">
        <h2>Office System</h2>
        <a href="index.html" class="active">üè† Dashboard</a>
        <a href="temperature.html">üå° Temperature Control</a>
        <a href="visitor.html">üõÇ Visitor Log</a>
        <a href="history.html">üìÅ History</a>
        <a href="report.html">üñ® Reports</a>
        <a href="quotation.html">üñ® Quotation</a>
        <a href="invoice.html">üñ® Invoice</a>
    </div>
     <!-- Main Content -->
    <div class="main">
        <div class="header">Dashboard ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏£‡∏∞‡∏ö‡∏ö</div>
<div class="container">
    <h2>‡∏™‡∏°‡∏∏‡∏î‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•‡πÄ‡∏Ç‡πâ‡∏≤ ‚Äì ‡∏≠‡∏≠‡∏Å</h2>

    <!-- ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á -->
    <table id="logTable">
        <thead>
            <tr>
                <th>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</th>
                <th>‡∏ä‡∏∑‡πà‡∏≠</th>
                <th>‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</th>
                <th>‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏£‡∏ñ</th>
                <th>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£</th>
                <th>‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤</th>
                <th>‡πÄ‡∏ß‡∏•‡∏≤‡∏≠‡∏≠‡∏Å (‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì)</th>
                <th>‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>

    <!-- ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• -->
    <table class="input-table">
        <tr>
            <td><input type="date" id="date"></td>
            <td><input type="text" id="firstName" placeholder="‡∏ä‡∏∑‡πà‡∏≠"></td>
            <td><input type="text" id="lastName" placeholder="‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•"></td>
            <td><input type="text" id="carPlate" placeholder="‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏£‡∏ñ"></td>
            <td><input type="tel" id="phone" placeholder="‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£"></td>
            <td><input type="time" id="timeIn"></td>
            <td><input type="time" id="timeOut"></td>
            <td><textarea id="purpose" rows="1" placeholder="‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå"></textarea></td>
        </tr>
    </table>

    <div class="buttons">
        <button class="save-btn" onclick="saveData()">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
        <button class="print-btn" onclick="window.print()">‡∏û‡∏¥‡∏°‡∏û‡πå‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô</button>
        <button class="clear-btn" onclick="clearData()">‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
    </div>
</div>

<script>
let visitors = JSON.parse(localStorage.getItem("visitorLogs")) || [];

/* ===== ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á ===== */
function renderTable() {
    const tbody = document.querySelector("#logTable tbody");
    tbody.innerHTML = "";

    visitors.forEach(v => {
        tbody.innerHTML += `
            <tr>
                <td>${v.date}</td>
                <td>${v.firstName}</td>
                <td>${v.lastName}</td>
                <td>${v.carPlate}</td>
                <td>${v.phone}</td>
                <td>${v.timeIn}</td>
                <td>${v.timeOut}</td>
                <td>${v.purpose}</td>
            </tr>
        `;
    });
}

/* ===== ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ===== */
function saveData() {
    const data = {
        date: date.value,
        firstName: firstName.value,
        lastName: lastName.value,
        carPlate: carPlate.value,
        phone: phone.value,
        timeIn: timeIn.value,
        timeOut: timeOut.value,
        purpose: purpose.value
    };

    if (!data.date || !data.firstName || !data.timeIn) {
        alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô (‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà, ‡∏ä‡∏∑‡πà‡∏≠, ‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤)");
        return;
    }

    visitors.push(data);
    localStorage.setItem("visitorLogs", JSON.stringify(visitors));
    renderTable();

    document.querySelectorAll(".input-table input, .input-table textarea")
        .forEach(el => el.value = "");
}

/* ===== ‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ===== */
function clearData() {
    if (confirm("‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?")) {
        localStorage.removeItem("visitorLogs");
        visitors = [];
        renderTable();
    }
}

renderTable();
</script>

</body>
</html>
