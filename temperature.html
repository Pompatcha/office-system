<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>Room Temperature Logging</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
    margin: 0;
    font-family: "Segoe UI", Tahoma, sans-serif;
    background: #f2f4f7;
}

/* ===== Layout ===== */
.wrapper {
    display: flex;
    min-height: 100vh;
}

/* ===== Sidebar ===== */
.sidebar {
    width: 240px;
    background: #0d6efd;
    color: #fff;
    padding: 20px;
}

.sidebar h2 {
    text-align: center;
    margin-bottom: 30px;
    font-size: 20px;
}

.sidebar a {
    display: block;
    color: #fff;
    text-decoration: none;
    padding: 12px;
    border-radius: 6px;
    margin-bottom: 10px;
    font-size: 16px;
}

.sidebar a:hover,
.sidebar a.active {
    background: rgba(255,255,255,0.2);
}
/* ===== Main ===== */
.main {
    flex: 1;
    padding: 25px;
}

.header {
    font-size: 22px;
    margin-bottom: 20px;
}


.container {
    max-width: 1200px;
    margin: auto;
    background: #ffffff;
    padding: 25px;
    border-radius: 10px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
}

h2 {
    text-align: center;
    margin-bottom: 20px;
}

table {
    width: 100%;
    border-collapse: collapse;
    margin-bottom: 15px;
}

th, td {
    border: 1px solid #ddd;
    padding: 10px;
    text-align: center;
}

th {
    background: #0d6efd;
    color: #fff;
}

tbody tr:nth-child(even) {
    background: #f9fafb;
}

input, select {
    width: 100%;
    padding: 6px;
    border-radius: 4px;
    border: 1px solid #ccc;
}

.status-normal {
    color: #198754;
    font-weight: bold;
}

.status-abnormal {
    color: #dc3545;
    font-weight: bold;
}

.buttons {
    display: flex;
    justify-content: space-between;
    margin-top: 15px;
}

button {
    padding: 10px 18px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-size: 14px;
}

.save-btn {
    background: #198754;
    color: #fff;
}

.print-btn {
    background: #6c757d;
    color: #fff;
}

.clear-btn {
    background: #dc3545;
    color: #fff;
}

@media print {
    .buttons,
    .input-table {
        display: none;
    }
}
</style>
</head>

<body>
    <div class="wrapper">

    <!-- Sidebar -->
    <div class="sidebar">
        <h2>Office System</h2>
        <a href="index.html" class="active">üè† Dashboard</a>
        <a href="temperature.html">üå° Temperature Control</a>
        <a href="visitor.html">üõÇ Visitor Log</a>
        <a href="inventory.html">üìÅ Inventory</a>
        <a href="report.html">üñ® Reports</a>
        <a href="quotation.html">üñ® Quotation</a>
        <a href="invoice.html">üñ® Invoice</a>
    </div>
  <!-- Main Content -->
    <div class="main">
        <div class="header">Dashboard ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏£‡∏∞‡∏ö‡∏ö</div>

<div class="container">
<h2>‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡∏´‡πâ‡∏≠‡∏á</h2>

<!-- TABLE LOG -->
<table id="logTable">
<thead>
<tr>
    <th>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</th>
    <th>‡πÄ‡∏ß‡∏•‡∏≤</th>
    <th>‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥ (¬∞C)</th>
    <th>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô (%RH)</th>
    <th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
    <th>‡∏ú‡∏π‡πâ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å / ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</th>
</tr>
</thead>
<tbody></tbody>
</table>

<!-- INPUT -->
<table class="input-table">
<tr>
    <td><input type="date" id="date"></td>
    <td>
        <select id="time">
            <option value="09:00">09:00</option>
            <option value="16:00">16:00</option>
        </select>
    </td>
    <td><input type="number" id="temp" step="0.1" placeholder="¬∞C"></td>
    <td><input type="number" id="hum" step="0.1" placeholder="%RH"></td>
    <td id="autoStatus">-</td>
    <td><input type="text" id="note" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å / ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏"></td>
</tr>
</table>

<div class="buttons">
    <button class="save-btn" onclick="saveData()">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
    <button class="print-btn" onclick="window.print()">‡∏û‡∏¥‡∏°‡∏û‡πå‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô</button>
    <button class="clear-btn" onclick="clearData()">‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
</div>
</div>

<script>
/* ===============================
   STORAGE KEY (STANDARD)
================================ */
let tempLogs = JSON.parse(localStorage.getItem("tempLogs")) || [];

/* ===== STATUS RULE ===== */
function getStatus(temp) {
    return (temp >= 18 && temp <= 30) ? "‡∏õ‡∏Å‡∏ï‡∏¥" : "‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥";
}

/* ===== RENDER TABLE ===== */
function renderTable() {
    const tbody = document.querySelector("#logTable tbody");
    tbody.innerHTML = "";

    tempLogs.forEach(log => {
        const cls = log.status === "‡∏õ‡∏Å‡∏ï‡∏¥"
            ? "status-normal"
            : "status-abnormal";

        tbody.innerHTML += `
        <tr>
            <td>${log.date}</td>
            <td>${log.time}</td>
            <td>${log.temp}</td>
            <td>${log.hum}</td>
            <td class="${cls}">${log.status}</td>
            <td>${log.note}</td>
        </tr>`;
    });
}

/* ===== SAVE DATA ===== */
function saveData() {
    const date = document.getElementById("date").value;
    const time = document.getElementById("time").value;
    const temp = parseFloat(document.getElementById("temp").value);
    const hum = parseFloat(document.getElementById("hum").value);
    const note = document.getElementById("note").value;

    if (!date || isNaN(temp) || isNaN(hum)) {
        alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô");
        return;
    }

    const status = getStatus(temp);

    tempLogs.push({
        date,
        time,
        temp,
        hum,
        status,
        note
    });

    localStorage.setItem("tempLogs", JSON.stringify(tempLogs));
    renderTable();

    document.getElementById("temp").value = "";
    document.getElementById("hum").value = "";
    document.getElementById("note").value = "";
    document.getElementById("autoStatus").innerText = "-";
}

/* ===== AUTO STATUS ===== */
document.getElementById("temp").addEventListener("input", function () {
    const temp = parseFloat(this.value);
    const cell = document.getElementById("autoStatus");

    if (isNaN(temp)) {
        cell.innerText = "-";
        cell.className = "";
        return;
    }

    const status = getStatus(temp);
    cell.innerText = status;
    cell.className = status === "‡∏õ‡∏Å‡∏ï‡∏¥"
        ? "status-normal"
        : "status-abnormal";
});

/* ===== CLEAR ===== */
function clearData() {
    if (confirm("‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?")) {
        localStorage.removeItem("tempLogs");
        tempLogs = [];
        renderTable();
    }
}

renderTable();
</script>

</body>
</html>
