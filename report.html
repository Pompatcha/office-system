<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>Room Temperature Logging</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
    margin: 0;
    font-family: "Segoe UI", Tahoma, sans-serif;
    background: #f2f4f7;
}
.wrapper { display:flex; min-height:100vh; }
.sidebar {
    width:240px; background:#0d6efd; color:#fff; padding:20px;
}
.sidebar a {
    display:block; color:#fff; text-decoration:none;
    padding:12px; border-radius:6px; margin-bottom:10px;
}
.sidebar a.active, .sidebar a:hover {
    background:rgba(255,255,255,.2);
}
.main { flex:1; padding:25px; }
.container {
    background:#fff; padding:25px; border-radius:10px;
    box-shadow:0 5px 15px rgba(0,0,0,.1);
}
table { width:100%; border-collapse:collapse; }
th,td { border:1px solid #ddd; padding:10px; text-align:center; }
th { background:#0d6efd; color:#fff; }

.status-normal { color:#198754; font-weight:bold; }
.status-abnormal { color:#dc3545; font-weight:bold; }
</style>
</head>

<body>
 
<div class="wrapper">

    <!-- Sidebar -->
    <div class="sidebar">
        <h2>Office System</h2>
        <a href="index.html">ğŸ  Dashboard</a>
        <a href="temperature.html">ğŸŒ¡ Temperature Control</a>
        <a href="visitor.html">ğŸ›‚ Visitor Log</a>
        <a href="inventory.html">ğŸ“ Inventory</a>
        <a href="report.html">ğŸ–¨ Reports</a>
        <a href="staff.html">ğŸ‘¥ Staff</a>
         <a href="operationrule.html" class="active">ğŸ“œ Operation Rules</a>
        <a href="quotation.html">ğŸ§¾ Quotation</a>
        <a href="invoice.html">ğŸ§¾ Invoice</a>
    </div>
    <!-- Main Content -->
    <div class="main">
        <div class="header">Dashboard à¸ à¸²à¸à¸£à¸§à¸¡à¸£à¸°à¸šà¸š</div>


<div class="main">
<div class="container">
<h2>à¸šà¸±à¸™à¸—à¸¶à¸à¸­à¸¸à¸“à¸«à¸ à¸¹à¸¡à¸´à¸«à¹‰à¸­à¸‡</h2>

<table id="logTable">
<thead>
<tr>
    <th>à¸§à¸±à¸™à¸—à¸µà¹ˆ</th>
    <th>à¹€à¸§à¸¥à¸²</th>
    <th>à¸­à¸¸à¸“à¸«à¸ à¸¹à¸¡à¸´ (Â°C)</th>
    <th>à¸„à¸§à¸²à¸¡à¸Šà¸·à¹‰à¸™</th>
    <th>à¸ªà¸–à¸²à¸™à¸°</th>
    <th>à¸«à¸¡à¸²à¸¢à¹€à¸«à¸•à¸¸</th>
</tr>
</thead>
<tbody></tbody>
</table>

<br>

<table>
<tr>
<td><input type="date" id="date"></td>
<td>
<select id="time">
<option value="09:00">09:00</option>
<option value="16:00">16:00</option>
</select>
</td>
<td><input type="number" id="temp" step="0.1"></td>
<td><input type="number" id="hum" step="0.1"></td>
<td id="autoStatus">-</td>
<td><input type="text" id="note"></td>
</tr>
</table>

<br>
<button onclick="saveData()">à¸šà¸±à¸™à¸—à¸¶à¸à¸‚à¹‰à¸­à¸¡à¸¹à¸¥</button>

</div>
</div>
</div>

<script>
let tempLogs = JSON.parse(localStorage.getItem("tempLogs")) || [];

function getStatus(temp){
    return temp <= 30 ? "à¸›à¸à¸•à¸´" : "à¸œà¸´à¸”à¸›à¸à¸•à¸´";
}

document.getElementById("temp").addEventListener("input", e=>{
    const t = parseFloat(e.target.value);
    const cell = document.getElementById("autoStatus");
    if(isNaN(t)){ cell.innerText="-"; return; }
    const s = getStatus(t);
    cell.innerText = s;
    cell.className = s==="à¸›à¸à¸•à¸´"?"status-normal":"status-abnormal";
});

function saveData(){
    const data = {
        date: date.value,
        time: time.value,
        temp: parseFloat(temp.value),
        hum: parseFloat(hum.value),
        status: getStatus(parseFloat(temp.value)),
        note: note.value
    };

    if(!data.date || isNaN(data.temp)){
        alert("à¸à¸£à¸­à¸à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹„à¸¡à¹ˆà¸„à¸£à¸š");
        return;
    }

    tempLogs.push(data);
    localStorage.setItem("tempLogs", JSON.stringify(tempLogs));
    renderTable();
}

function renderTable(){
    const tb = document.querySelector("#logTable tbody");
    tb.innerHTML = "";
    tempLogs.forEach(l=>{
        tb.innerHTML += `
        <tr>
            <td>${l.date}</td>
            <td>${l.time}</td>
            <td>${l.temp}</td>
            <td>${l.hum}</td>
            <td class="${l.status==="à¸›à¸à¸•à¸´"?"status-normal":"status-abnormal"}">${l.status}</td>
            <td>${l.note}</td>
        </tr>`;
    });
}
renderTable();
</script>

</body>
</html>
